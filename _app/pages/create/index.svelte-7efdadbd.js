var Ie=Object.defineProperty,Pe=Object.defineProperties;var Te=Object.getOwnPropertyDescriptors;var re=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var ae=(n,e,s)=>e in n?Ie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,H=(n,e)=>{for(var s in e||(e={}))Se.call(e,s)&&ae(n,s,e[s]);if(re)for(var s of re(e))De.call(e,s)&&ae(n,s,e[s]);return n},j=(n,e)=>Pe(n,Te(e));import{S as U,i as V,s as B,H as G,e as g,t as W,k as P,c as v,a as b,h as O,d as _,m as T,b as $,g as w,F as m,L as k,I as K,J as X,K as Y,q as E,o as I,M as Le,N as Ne,D as Z,O as We,j as x,P as te,G as L,Q as se,R as N,T as be,U as Q,V as ye,W as R,X as J,w as q,x as C,y as M,B as F,v as Oe,Y as ie,Z as Ue}from"../../chunks/vendor-45cd3112.js";function Ve(n){let e,s,t,l,o,r,a,i;const u=n[2].default,h=G(u,n,n[1],null);return{c(){e=g("details"),s=g("summary"),t=W("\u2228"),l=P(),o=g("div"),h&&h.c(),this.h()},l(f){e=v(f,"DETAILS",{class:!0});var c=b(e);s=v(c,"SUMMARY",{class:!0});var p=b(s);t=O(p,"\u2228"),p.forEach(_),l=T(c),o=v(c,"DIV",{});var d=b(o);h&&h.l(d),d.forEach(_),c.forEach(_),this.h()},h(){$(s,"class","svelte-16yuq9h"),$(e,"class","svelte-16yuq9h")},m(f,c){w(f,e,c),m(e,s),m(s,t),m(e,l),m(e,o),h&&h.m(o,null),e.open=n[0],r=!0,a||(i=k(e,"toggle",n[3]),a=!0)},p(f,[c]){h&&h.p&&(!r||c&2)&&K(h,u,f,f[1],r?Y(u,f[1],c,null):X(f[1]),null),c&1&&(e.open=f[0])},i(f){r||(E(h,f),r=!0)},o(f){I(h,f),r=!1},d(f){f&&_(e),h&&h.d(f),a=!1,i()}}}function Be(n,e,s){let{$$slots:t={},$$scope:l}=e,{open:o=!1}=e;function r(){o=this.open,s(0,o)}return n.$$set=a=>{"open"in a&&s(0,o=a.open),"$$scope"in a&&s(1,l=a.$$scope)},[o,l,t,r]}class Ae extends U{constructor(e){super();V(this,e,Be,Ve,B,{open:0})}}const Re=!0,ee=Z(""),z=function(){const n="poems",e=Z([]),s=l=>(window.localStorage.setItem(n,JSON.stringify(l)),e.set(l)),t=e.subscribe;try{if(Re){const l=JSON.parse(window.localStorage.getItem(n)||"[]");console.log({initialValue:l}),s(l)}}catch{}return{set:s,subscribe:t,update(l){const o=l(Le(e));return console.log("updated called"),s(o)}}}(),S=Z({title:"",text:""}),qe=Ne(S,({text:n})=>{const e=[];let s=0;return n.trim().split(/\n/).forEach(t=>{const l=We(t);e.push({syllables:l,okay:s===0||s===l}),s=l}),e}),ce=Z({});function ue(n,e,s){const t=n.slice();return t[6]=e[s],t}function fe(n){let e,s;return{c(){e=g("li"),s=W("No saved poems found!")},l(t){e=v(t,"LI",{});var l=b(e);s=O(l,"No saved poems found!"),l.forEach(_)},m(t,l){w(t,e,l),m(e,s)},d(t){t&&_(e)}}}function he(n){let e,s,t=n[6].title+"",l,o,r,a,i,u,h;function f(){return n[3](n[6])}function c(){return n[4](n[6])}return{c(){e=g("li"),s=g("button"),l=W(t),o=P(),r=g("button"),a=W("Delete"),i=P(),this.h()},l(p){e=v(p,"LI",{});var d=b(e);s=v(d,"BUTTON",{type:!0});var D=b(s);l=O(D,t),D.forEach(_),o=T(d),r=v(d,"BUTTON",{type:!0});var A=b(r);a=O(A,"Delete"),A.forEach(_),i=T(d),d.forEach(_),this.h()},h(){$(s,"type","button"),$(r,"type","button")},m(p,d){w(p,e,d),m(e,s),m(s,l),m(e,o),m(e,r),m(r,a),m(e,i),u||(h=[k(s,"click",f),k(r,"click",c)],u=!0)},p(p,d){n=p,d&1&&t!==(t=n[6].title+"")&&x(l,t)},d(p){p&&_(e),u=!1,te(h)}}}function Ce(n){let e,s=n[0],t=[];for(let o=0;o<s.length;o+=1)t[o]=he(ue(n,s,o));let l=null;return s.length||(l=fe()),{c(){e=g("ul");for(let o=0;o<t.length;o+=1)t[o].c();l&&l.c(),this.h()},l(o){e=v(o,"UL",{class:!0});var r=b(e);for(let a=0;a<t.length;a+=1)t[a].l(r);l&&l.l(r),r.forEach(_),this.h()},h(){$(e,"class","svelte-15nwzy1")},m(o,r){w(o,e,r);for(let a=0;a<t.length;a+=1)t[a].m(e,null);l&&l.m(e,null)},p(o,[r]){if(r&7){s=o[0];let a;for(a=0;a<s.length;a+=1){const i=ue(o,s,a);t[a]?t[a].p(i,r):(t[a]=he(i),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=s.length,s.length?l&&(l.d(1),l=null):l||(l=fe(),l.c(),l.m(e,null))}},i:L,o:L,d(o){o&&_(e),se(t,o),l&&l.d()}}}function Me(n,e,s){let t;N(n,z,u=>s(0,t=u));const l=be();function o(u){l("load",u)}function r(u){l("remove",u)}return[t,o,r,u=>o(u),u=>r(u)]}class Fe extends U{constructor(e){super();V(this,e,Me,Ce,B,{})}}const He=n=>({}),_e=n=>({}),je=n=>({}),pe=n=>({});function Je(n){let e,s,t,l,o,r,a;const i=n[3].left,u=G(i,n,n[2],pe),h=n[3].right,f=G(h,n,n[2],_e);return{c(){e=g("div"),u&&u.c(),s=P(),t=g("input"),l=P(),f&&f.c(),this.h()},l(c){e=v(c,"DIV",{class:!0});var p=b(e);u&&u.l(p),s=T(p),t=v(p,"INPUT",{type:!0,name:!0,class:!0}),l=T(p),f&&f.l(p),p.forEach(_),this.h()},h(){$(t,"type","text"),$(t,"name","title"),$(t,"class","svelte-iop7bq"),$(e,"class","svelte-iop7bq")},m(c,p){w(c,e,p),u&&u.m(e,null),m(e,s),m(e,t),Q(t,n[0]),m(e,l),f&&f.m(e,null),o=!0,r||(a=[k(t,"input",n[7]),k(t,"blur",n[4]),k(t,"change",n[5]),k(t,"focus",n[6])],r=!0)},p(c,[p]){u&&u.p&&(!o||p&4)&&K(u,i,c,c[2],o?Y(i,c[2],p,je):X(c[2]),pe),p&1&&t.value!==c[0]&&Q(t,c[0]),f&&f.p&&(!o||p&4)&&K(f,h,c,c[2],o?Y(h,c[2],p,He):X(c[2]),_e)},i(c){o||(E(u,c),E(f,c),o=!0)},o(c){I(u,c),I(f,c),o=!1},d(c){c&&_(e),u&&u.d(c),f&&f.d(c),r=!1,te(a)}}}function ze(n,e,s){let t;N(n,S,c=>s(1,t=c));let{$$slots:l={},$$scope:o}=e,r=t.title;const a=S.subscribe(c=>s(0,r=c.title));ye(()=>{a()});function i(c){J.call(this,n,c)}function u(c){J.call(this,n,c)}function h(c){J.call(this,n,c)}function f(){r=this.value,s(0,r)}return n.$$set=c=>{"$$scope"in c&&s(2,o=c.$$scope)},n.$$.update=()=>{n.$$.dirty&3&&R(S,t=j(H({},t),{title:r}),t)},[r,t,o,l,i,u,h,f]}class Ge extends U{constructor(e){super();V(this,e,ze,Je,B,{})}}function Ke(n){let e,s;const t=n[1].default,l=G(t,n,n[0],null);return{c(){e=g("h2"),l&&l.c(),this.h()},l(o){e=v(o,"H2",{class:!0});var r=b(e);l&&l.l(r),r.forEach(_),this.h()},h(){$(e,"class","svelte-1paot4z")},m(o,r){w(o,e,r),l&&l.m(e,null),s=!0},p(o,[r]){l&&l.p&&(!s||r&1)&&K(l,t,o,o[0],s?Y(t,o[0],r,null):X(o[0]),null)},i(o){s||(E(l,o),s=!0)},o(o){I(l,o),s=!1},d(o){o&&_(e),l&&l.d(o)}}}function Xe(n,e,s){let{$$slots:t={},$$scope:l}=e;return n.$$set=o=>{"$$scope"in o&&s(0,l=o.$$scope)},[l,t]}class Ye extends U{constructor(e){super();V(this,e,Xe,Ke,B,{})}}function Qe(){return new Worker("/_app/assets/worker.00d7c8b2.js",{type:"module"})}function de(n,e,s){const t=n.slice();return t[7]=e[s],t}function Ze(n){let e;return{c(){e=W(n[0])},l(s){e=O(s,n[0])},m(s,t){w(s,e,t)},p(s,t){t&1&&x(e,s[0])},d(s){s&&_(e)}}}function xe(n){let e,s=n[2],t=[];for(let l=0;l<s.length;l+=1)t[l]=me(de(n,s,l));return{c(){e=g("ul");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=v(l,"UL",{class:!0});var o=b(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(_),this.h()},h(){$(e,"class","svelte-obuksk")},m(l,o){w(l,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(l,o){if(o&4){s=l[2];let r;for(r=0;r<s.length;r+=1){const a=de(l,s,r);t[r]?t[r].p(a,o):(t[r]=me(a),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=s.length}},d(l){l&&_(e),se(t,l)}}}function et(n){let e,s;return{c(){e=g("span"),s=W("loading ..."),this.h()},l(t){e=v(t,"SPAN",{class:!0});var l=b(e);s=O(l,"loading ..."),l.forEach(_),this.h()},h(){$(e,"class","svelte-obuksk")},m(t,l){w(t,e,l),m(e,s)},p:L,d(t){t&&_(e)}}}function me(n){let e,s=n[7]+"",t;return{c(){e=g("li"),t=W(s)},l(l){e=v(l,"LI",{});var o=b(e);t=O(o,s),o.forEach(_)},m(l,o){w(l,e,o),m(e,t)},p(l,o){o&4&&s!==(s=l[7]+"")&&x(t,s)},d(l){l&&_(e)}}}function tt(n){let e,s,t,l;e=new Ye({props:{$$slots:{default:[Ze]},$$scope:{ctx:n}}});function o(i,u){if(i[1])return et;if(i[2])return xe}let r=o(n),a=r&&r(n);return{c(){q(e.$$.fragment),s=P(),t=g("div"),a&&a.c()},l(i){C(e.$$.fragment,i),s=T(i),t=v(i,"DIV",{});var u=b(t);a&&a.l(u),u.forEach(_)},m(i,u){M(e,i,u),w(i,s,u),w(i,t,u),a&&a.m(t,null),l=!0},p(i,[u]){const h={};u&1025&&(h.$$scope={dirty:u,ctx:i}),e.$set(h),r===(r=o(i))&&a?a.p(i,u):(a&&a.d(1),a=r&&r(i),a&&(a.c(),a.m(t,null)))},i(i){l||(E(e.$$.fragment,i),l=!0)},o(i){I(e.$$.fragment,i),l=!1},d(i){F(e,i),i&&_(s),i&&_(t),a&&a.d()}}}const st=750;function lt(n,e,s){let t;N(n,ce,h=>s(5,t=h));let{word:l=""}=e,o=!1,r=[],a=null,i,u=h=>{const f=h.toLowerCase();t[f]===void 0?(clearTimeout(i),i=setTimeout(()=>{s(1,o=!0),a==null||a.postMessage(f)},st)):s(2,r=t[f])};return Oe(()=>{const h=f=>{const c=JSON.parse(f.data);R(ce,t[c.word]=c.rhymes,t),s(2,r=t[l]),s(1,o=!1)};return a=new Qe,a.addEventListener("message",h),()=>{a.removeEventListener("message",h)}}),n.$$set=h=>{"word"in h&&s(0,l=h.word)},n.$$.update=()=>{n.$$.dirty&1&&l!==""&&u(l)},[l,o,r]}class nt extends U{constructor(e){super();V(this,e,lt,tt,B,{word:0})}}function ge(n,e,s){const t=n.slice();return t[15]=e[s],t}function ve(n){let e,s=n[15].syllables+"",t,l,o;return{c(){e=g("li"),t=W(s),l=P(),this.h()},l(r){e=v(r,"LI",{class:!0});var a=b(e);t=O(a,s),l=T(a),a.forEach(_),this.h()},h(){$(e,"class",o=ie(n[15].okay?"okay":"different")+" svelte-1f3r8h5")},m(r,a){w(r,e,a),m(e,t),m(e,l)},p(r,a){a&4&&s!==(s=r[15].syllables+"")&&x(t,s),a&4&&o!==(o=ie(r[15].okay?"okay":"different")+" svelte-1f3r8h5")&&$(e,"class",o)},d(r){r&&_(e)}}}function ot(n){let e,s,t,l,o,r,a,i,u,h=n[2],f=[];for(let c=0;c<h.length;c+=1)f[c]=ve(ge(n,h,c));return{c(){e=g("div"),s=g("ol");for(let c=0;c<f.length;c+=1)f[c].c();t=P(),l=g("div"),o=g("textarea"),r=P(),a=g("div"),this.h()},l(c){e=v(c,"DIV",{class:!0});var p=b(e);s=v(p,"OL",{class:!0});var d=b(s);for(let A=0;A<f.length;A+=1)f[A].l(d);d.forEach(_),t=T(p),l=v(p,"DIV",{class:!0});var D=b(l);o=v(D,"TEXTAREA",{class:!0}),b(o).forEach(_),D.forEach(_),r=T(p),a=v(p,"DIV",{class:!0}),b(a).forEach(_),p.forEach(_),this.h()},h(){$(s,"class","syllables svelte-1f3r8h5"),$(o,"class","input svelte-1f3r8h5"),$(l,"class","input-wrapper svelte-1f3r8h5"),$(a,"class","padding-right svelte-1f3r8h5"),$(e,"class","poem svelte-1f3r8h5")},m(c,p){w(c,e,p),m(e,s);for(let d=0;d<f.length;d+=1)f[d].m(s,null);m(e,t),m(e,l),m(l,o),n[8](o),Q(o,n[1]),m(e,r),m(e,a),i||(u=[k(o,"blur",n[5]),k(o,"focus",n[6]),k(o,"keyup",n[4]),k(o,"input",n[3]),k(o,"input",n[9]),k(e,"click",n[7])],i=!0)},p(c,[p]){if(p&4){h=c[2];let d;for(d=0;d<h.length;d+=1){const D=ge(c,h,d);f[d]?f[d].p(D,p):(f[d]=ve(D),f[d].c(),f[d].m(s,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=h.length}p&2&&Q(o,c[1])},i:L,o:L,d(c){c&&_(e),se(f,c),n[8](null),i=!1,te(u)}}}function $e(n){n.style.height="1px",n.style.height=`${n.scrollHeight+10}px`,n.style.width="1px",n.style.width=`${n.scrollWidth}px`}function rt(n,e,s){let t,l,o;N(n,S,y=>s(11,t=y)),N(n,ee,y=>s(12,l=y)),N(n,qe,y=>s(2,o=y));let r=null,a=!1,i=t.text;r&&$e(r);const u=S.subscribe(y=>s(1,i=y.text));ye(()=>{u()});function h(y){const ke=i.slice(0,y.selectionStart),Ee=i.slice(y.selectionEnd),le=/\b(\w*)$/.exec(ke),ne=/^(\w*)\b/.exec(Ee),oe=`${le?le[1]:""}${ne?ne[1]:""}`;oe!==""&&R(ee,l=oe,l)}const f=y=>{$e(y.currentTarget),R(S,t=j(H({},t),{text:y.currentTarget.value}),t)},c=y=>{h(y.currentTarget)};function p(){a=!1,R(S,t=j(H({},t),{text:i}),t)}const d=y=>{a=!0,h(y.currentTarget)};function D(){a||r.focus()}function A(y){Ue[y?"unshift":"push"](()=>{r=y,s(0,r)})}function we(){i=this.value,s(1,i)}return[r,i,o,f,c,p,d,D,A,we]}class at extends U{constructor(e){super();V(this,e,rt,ot,B,{})}}function it(n){let e,s,t,l,o;return{c(){e=g("button"),s=g("span"),t=W("+"),this.h()},l(r){e=v(r,"BUTTON",{type:!0,class:!0});var a=b(e);s=v(a,"SPAN",{class:!0});var i=b(s);t=O(i,"+"),i.forEach(_),a.forEach(_),this.h()},h(){$(s,"class","svelte-1gbca8x"),$(e,"type","button"),$(e,"class","svelte-1gbca8x")},m(r,a){w(r,e,a),m(e,s),m(s,t),l||(o=k(e,"click",n[0]),l=!0)},p:L,i:L,o:L,d(r){r&&_(e),l=!1,o()}}}function ct(n,e,s){let t;N(n,S,r=>s(1,t=r));const l=be();function o(){l("save",t)}return[o]}class ut extends U{constructor(e){super();V(this,e,ct,it,B,{})}}function ft(n){let e,s;return e=new Fe({}),e.$on("load",n[1]),e.$on("remove",n[2]),{c(){q(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,l){M(e,t,l),s=!0},p:L,i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){F(e,t)}}}function ht(n){let e,s,t,l,o;return s=new Ae({props:{$$slots:{default:[ft]},$$scope:{ctx:n}}}),s.$on("select",n[4]),l=new ut({}),l.$on("save",n[3]),{c(){e=g("div"),q(s.$$.fragment),t=P(),q(l.$$.fragment),this.h()},l(r){e=v(r,"DIV",{slot:!0,class:!0});var a=b(e);C(s.$$.fragment,a),t=T(a),C(l.$$.fragment,a),a.forEach(_),this.h()},h(){$(e,"slot","right"),$(e,"class","svelte-1l5d35j")},m(r,a){w(r,e,a),M(s,e,null),m(e,t),M(l,e,null),o=!0},p(r,a){const i={};a&128&&(i.$$scope={dirty:a,ctx:r}),s.$set(i)},i(r){o||(E(s.$$.fragment,r),E(l.$$.fragment,r),o=!0)},o(r){I(s.$$.fragment,r),I(l.$$.fragment,r),o=!1},d(r){r&&_(e),F(s),F(l)}}}function _t(n){let e,s,t,l,o,r,a;return s=new Ge({props:{$$slots:{right:[ht]},$$scope:{ctx:n}}}),l=new at({}),r=new nt({props:{word:n[0]}}),{c(){e=g("section"),q(s.$$.fragment),t=P(),q(l.$$.fragment),o=P(),q(r.$$.fragment),this.h()},l(i){e=v(i,"SECTION",{class:!0});var u=b(e);C(s.$$.fragment,u),t=T(u),C(l.$$.fragment,u),o=T(u),C(r.$$.fragment,u),u.forEach(_),this.h()},h(){$(e,"class","svelte-1l5d35j")},m(i,u){w(i,e,u),M(s,e,null),m(e,t),M(l,e,null),m(e,o),M(r,e,null),a=!0},p(i,[u]){const h={};u&128&&(h.$$scope={dirty:u,ctx:i}),s.$set(h);const f={};u&1&&(f.word=i[0]),r.$set(f)},i(i){a||(E(s.$$.fragment,i),E(l.$$.fragment,i),E(r.$$.fragment,i),a=!0)},o(i){I(s.$$.fragment,i),I(l.$$.fragment,i),I(r.$$.fragment,i),a=!1},d(i){i&&_(e),F(s),F(l),F(r)}}}function pt(n,e,s){let t,l,o;N(n,z,h=>s(5,t=h)),N(n,S,h=>s(6,l=h)),N(n,ee,h=>s(0,o=h));function r(h){R(S,l=h.detail,l)}function a(h){const f=h.detail,c=t.findIndex(p=>p===f);R(z,t=[...t.slice(0,c),...t.slice(c+1)],t)}function i(h){const f=h.detail;R(z,t=[...t,f],t)}function u(h){J.call(this,n,h)}return[o,r,a,i,u]}class dt extends U{constructor(e){super();V(this,e,pt,_t,B,{})}}function mt(n){let e,s,t;return s=new dt({}),{c(){e=g("main"),q(s.$$.fragment),this.h()},l(l){e=v(l,"MAIN",{class:!0});var o=b(e);C(s.$$.fragment,o),o.forEach(_),this.h()},h(){$(e,"class","svelte-78i28p")},m(l,o){w(l,e,o),M(s,e,null),t=!0},p:L,i(l){t||(E(s.$$.fragment,l),t=!0)},o(l){I(s.$$.fragment,l),t=!1},d(l){l&&_(e),F(s)}}}class $t extends U{constructor(e){super();V(this,e,null,mt,B,{})}}export{$t as default};

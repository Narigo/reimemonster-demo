var Ie=Object.defineProperty,Te=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var re=(n,e,t)=>e in n?Ie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,H=(n,e)=>{for(var t in e||(e={}))Se.call(e,t)&&re(n,t,e[t]);if(oe)for(var t of oe(e))Le.call(e,t)&&re(n,t,e[t]);return n},j=(n,e)=>Te(n,Pe(e));import{S as W,i as N,s as V,H as z,e as m,t as R,k as L,c as g,a as b,h as q,d as _,m as D,b as v,g as w,F as d,L as k,I as G,J as K,K as X,q as E,o as I,M as De,N as We,D as Q,O as Ne,j as Z,G as P,P as te,Q as S,R as $e,T as Y,U as be,V as ye,W as M,X as J,w as O,x as U,y as A,B,v as Ve,Y as ae,Z as Oe}from"../../chunks/vendor-28585640.js";function Ue(n){let e,t,s,l,o,r,a,i;const u=n[2].default,h=z(u,n,n[1],null);return{c(){e=m("details"),t=m("summary"),s=R("\u2228"),l=L(),o=m("div"),h&&h.c(),this.h()},l(f){e=g(f,"DETAILS",{class:!0});var c=b(e);t=g(c,"SUMMARY",{class:!0});var p=b(t);s=q(p,"\u2228"),p.forEach(_),l=D(c),o=g(c,"DIV",{});var $=b(o);h&&h.l($),$.forEach(_),c.forEach(_),this.h()},h(){v(t,"class","svelte-16yuq9h"),v(e,"class","svelte-16yuq9h")},m(f,c){w(f,e,c),d(e,t),d(t,s),d(e,l),d(e,o),h&&h.m(o,null),e.open=n[0],r=!0,a||(i=k(e,"toggle",n[3]),a=!0)},p(f,[c]){h&&h.p&&(!r||c&2)&&G(h,u,f,f[1],r?X(u,f[1],c,null):K(f[1]),null),c&1&&(e.open=f[0])},i(f){r||(E(h,f),r=!0)},o(f){I(h,f),r=!1},d(f){f&&_(e),h&&h.d(f),a=!1,i()}}}function Ae(n,e,t){let{$$slots:s={},$$scope:l}=e,{open:o=!1}=e;function r(){o=this.open,t(0,o)}return n.$$set=a=>{"open"in a&&t(0,o=a.open),"$$scope"in a&&t(1,l=a.$$scope)},[o,l,s,r]}class Be extends W{constructor(e){super();N(this,e,Ae,Ue,V,{open:0})}}const Re=!0,x=Q(""),ee=function(){const n="poems",e=Q([]),t=l=>(window.localStorage.setItem(n,JSON.stringify(l)),e.set(l)),s=e.subscribe;try{if(Re){const l=JSON.parse(window.localStorage.getItem(n)||"[]");console.log({initialValue:l}),t(l)}}catch{}return{set:t,subscribe:s,update(l){const o=l(De(e));return console.log("updated called"),t(o)}}}(),T=Q({title:"",text:""}),qe=We(T,({text:n})=>{const e=[];let t=0;return n.trim().split(/\n/).forEach(s=>{const l=Ne(s);e.push({syllables:l,okay:t===0||t===l}),t=l}),e}),ie=Q({});function ce(n,e,t){const s=n.slice();return s[4]=e[t],s}function ue(n){let e,t;return{c(){e=m("li"),t=R("No saved poems found!")},l(s){e=g(s,"LI",{});var l=b(e);t=q(l,"No saved poems found!"),l.forEach(_)},m(s,l){w(s,e,l),d(e,t)},d(s){s&&_(e)}}}function fe(n){let e,t,s=n[4].title+"",l,o,r;function a(){return n[2](n[4])}return{c(){e=m("li"),t=m("button"),l=R(s),this.h()},l(i){e=g(i,"LI",{});var u=b(e);t=g(u,"BUTTON",{type:!0});var h=b(t);l=q(h,s),h.forEach(_),u.forEach(_),this.h()},h(){v(t,"type","button")},m(i,u){w(i,e,u),d(e,t),d(t,l),o||(r=k(t,"click",a),o=!0)},p(i,u){n=i,u&1&&s!==(s=n[4].title+"")&&Z(l,s)},d(i){i&&_(e),o=!1,r()}}}function Ce(n){let e,t=n[0],s=[];for(let o=0;o<t.length;o+=1)s[o]=fe(ce(n,t,o));let l=null;return t.length||(l=ue()),{c(){e=m("ul");for(let o=0;o<s.length;o+=1)s[o].c();l&&l.c(),this.h()},l(o){e=g(o,"UL",{class:!0});var r=b(e);for(let a=0;a<s.length;a+=1)s[a].l(r);l&&l.l(r),r.forEach(_),this.h()},h(){v(e,"class","svelte-15nwzy1")},m(o,r){w(o,e,r);for(let a=0;a<s.length;a+=1)s[a].m(e,null);l&&l.m(e,null)},p(o,[r]){if(r&3){t=o[0];let a;for(a=0;a<t.length;a+=1){const i=ce(o,t,a);s[a]?s[a].p(i,r):(s[a]=fe(i),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length,t.length?l&&(l.d(1),l=null):l||(l=ue(),l.c(),l.m(e,null))}},i:P,o:P,d(o){o&&_(e),te(s,o),l&&l.d()}}}function Me(n,e,t){let s;S(n,ee,a=>t(0,s=a));const l=$e();function o(a){l("load",a)}return[s,o,a=>o(a)]}class Fe extends W{constructor(e){super();N(this,e,Me,Ce,V,{})}}const He=n=>({}),he=n=>({}),je=n=>({}),_e=n=>({});function Je(n){let e,t,s,l,o,r,a;const i=n[3].left,u=z(i,n,n[2],_e),h=n[3].right,f=z(h,n,n[2],he);return{c(){e=m("div"),u&&u.c(),t=L(),s=m("input"),l=L(),f&&f.c(),this.h()},l(c){e=g(c,"DIV",{class:!0});var p=b(e);u&&u.l(p),t=D(p),s=g(p,"INPUT",{type:!0,name:!0,class:!0}),l=D(p),f&&f.l(p),p.forEach(_),this.h()},h(){v(s,"type","text"),v(s,"name","title"),v(s,"class","svelte-iop7bq"),v(e,"class","svelte-iop7bq")},m(c,p){w(c,e,p),u&&u.m(e,null),d(e,t),d(e,s),Y(s,n[0]),d(e,l),f&&f.m(e,null),o=!0,r||(a=[k(s,"input",n[7]),k(s,"blur",n[4]),k(s,"change",n[5]),k(s,"focus",n[6])],r=!0)},p(c,[p]){u&&u.p&&(!o||p&4)&&G(u,i,c,c[2],o?X(i,c[2],p,je):K(c[2]),_e),p&1&&s.value!==c[0]&&Y(s,c[0]),f&&f.p&&(!o||p&4)&&G(f,h,c,c[2],o?X(h,c[2],p,He):K(c[2]),he)},i(c){o||(E(u,c),E(f,c),o=!0)},o(c){I(u,c),I(f,c),o=!1},d(c){c&&_(e),u&&u.d(c),f&&f.d(c),r=!1,be(a)}}}function ze(n,e,t){let s;S(n,T,c=>t(1,s=c));let{$$slots:l={},$$scope:o}=e,r=s.title;const a=T.subscribe(c=>t(0,r=c.title));ye(()=>{a()});function i(c){J.call(this,n,c)}function u(c){J.call(this,n,c)}function h(c){J.call(this,n,c)}function f(){r=this.value,t(0,r)}return n.$$set=c=>{"$$scope"in c&&t(2,o=c.$$scope)},n.$$.update=()=>{n.$$.dirty&3&&M(T,s=j(H({},s),{title:r}),s)},[r,s,o,l,i,u,h,f]}class Ge extends W{constructor(e){super();N(this,e,ze,Je,V,{})}}function Ke(n){let e,t;const s=n[1].default,l=z(s,n,n[0],null);return{c(){e=m("h2"),l&&l.c(),this.h()},l(o){e=g(o,"H2",{class:!0});var r=b(e);l&&l.l(r),r.forEach(_),this.h()},h(){v(e,"class","svelte-1paot4z")},m(o,r){w(o,e,r),l&&l.m(e,null),t=!0},p(o,[r]){l&&l.p&&(!t||r&1)&&G(l,s,o,o[0],t?X(s,o[0],r,null):K(o[0]),null)},i(o){t||(E(l,o),t=!0)},o(o){I(l,o),t=!1},d(o){o&&_(e),l&&l.d(o)}}}function Xe(n,e,t){let{$$slots:s={},$$scope:l}=e;return n.$$set=o=>{"$$scope"in o&&t(0,l=o.$$scope)},[l,s]}class Ye extends W{constructor(e){super();N(this,e,Xe,Ke,V,{})}}function Qe(){return new Worker("/_app/assets/worker.00d7c8b2.js",{type:"module"})}function pe(n,e,t){const s=n.slice();return s[7]=e[t],s}function Ze(n){let e;return{c(){e=R(n[0])},l(t){e=q(t,n[0])},m(t,s){w(t,e,s)},p(t,s){s&1&&Z(e,t[0])},d(t){t&&_(e)}}}function xe(n){let e,t=n[2],s=[];for(let l=0;l<t.length;l+=1)s[l]=de(pe(n,t,l));return{c(){e=m("ul");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=g(l,"UL",{class:!0});var o=b(e);for(let r=0;r<s.length;r+=1)s[r].l(o);o.forEach(_),this.h()},h(){v(e,"class","svelte-obuksk")},m(l,o){w(l,e,o);for(let r=0;r<s.length;r+=1)s[r].m(e,null)},p(l,o){if(o&4){t=l[2];let r;for(r=0;r<t.length;r+=1){const a=pe(l,t,r);s[r]?s[r].p(a,o):(s[r]=de(a),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(l){l&&_(e),te(s,l)}}}function et(n){let e,t;return{c(){e=m("span"),t=R("loading ..."),this.h()},l(s){e=g(s,"SPAN",{class:!0});var l=b(e);t=q(l,"loading ..."),l.forEach(_),this.h()},h(){v(e,"class","svelte-obuksk")},m(s,l){w(s,e,l),d(e,t)},p:P,d(s){s&&_(e)}}}function de(n){let e,t=n[7]+"",s;return{c(){e=m("li"),s=R(t)},l(l){e=g(l,"LI",{});var o=b(e);s=q(o,t),o.forEach(_)},m(l,o){w(l,e,o),d(e,s)},p(l,o){o&4&&t!==(t=l[7]+"")&&Z(s,t)},d(l){l&&_(e)}}}function tt(n){let e,t,s,l;e=new Ye({props:{$$slots:{default:[Ze]},$$scope:{ctx:n}}});function o(i,u){if(i[1])return et;if(i[2])return xe}let r=o(n),a=r&&r(n);return{c(){O(e.$$.fragment),t=L(),s=m("div"),a&&a.c()},l(i){U(e.$$.fragment,i),t=D(i),s=g(i,"DIV",{});var u=b(s);a&&a.l(u),u.forEach(_)},m(i,u){A(e,i,u),w(i,t,u),w(i,s,u),a&&a.m(s,null),l=!0},p(i,[u]){const h={};u&1025&&(h.$$scope={dirty:u,ctx:i}),e.$set(h),r===(r=o(i))&&a?a.p(i,u):(a&&a.d(1),a=r&&r(i),a&&(a.c(),a.m(s,null)))},i(i){l||(E(e.$$.fragment,i),l=!0)},o(i){I(e.$$.fragment,i),l=!1},d(i){B(e,i),i&&_(t),i&&_(s),a&&a.d()}}}const st=750;function lt(n,e,t){let s;S(n,ie,h=>t(5,s=h));let{word:l=""}=e,o=!1,r=[],a=null,i,u=h=>{const f=h.toLowerCase();s[f]===void 0?(clearTimeout(i),i=setTimeout(()=>{t(1,o=!0),a==null||a.postMessage(f)},st)):t(2,r=s[f])};return Ve(()=>{const h=f=>{const c=JSON.parse(f.data);M(ie,s[c.word]=c.rhymes,s),t(2,r=s[l]),t(1,o=!1)};return a=new Qe,a.addEventListener("message",h),()=>{a.removeEventListener("message",h)}}),n.$$set=h=>{"word"in h&&t(0,l=h.word)},n.$$.update=()=>{n.$$.dirty&1&&l!==""&&u(l)},[l,o,r]}class nt extends W{constructor(e){super();N(this,e,lt,tt,V,{word:0})}}function me(n,e,t){const s=n.slice();return s[15]=e[t],s}function ge(n){let e,t=n[15].syllables+"",s,l,o;return{c(){e=m("li"),s=R(t),l=L(),this.h()},l(r){e=g(r,"LI",{class:!0});var a=b(e);s=q(a,t),l=D(a),a.forEach(_),this.h()},h(){v(e,"class",o=ae(n[15].okay?"okay":"different")+" svelte-1f3r8h5")},m(r,a){w(r,e,a),d(e,s),d(e,l)},p(r,a){a&4&&t!==(t=r[15].syllables+"")&&Z(s,t),a&4&&o!==(o=ae(r[15].okay?"okay":"different")+" svelte-1f3r8h5")&&v(e,"class",o)},d(r){r&&_(e)}}}function ot(n){let e,t,s,l,o,r,a,i,u,h=n[2],f=[];for(let c=0;c<h.length;c+=1)f[c]=ge(me(n,h,c));return{c(){e=m("div"),t=m("ol");for(let c=0;c<f.length;c+=1)f[c].c();s=L(),l=m("div"),o=m("textarea"),r=L(),a=m("div"),this.h()},l(c){e=g(c,"DIV",{class:!0});var p=b(e);t=g(p,"OL",{class:!0});var $=b(t);for(let F=0;F<f.length;F+=1)f[F].l($);$.forEach(_),s=D(p),l=g(p,"DIV",{class:!0});var C=b(l);o=g(C,"TEXTAREA",{class:!0}),b(o).forEach(_),C.forEach(_),r=D(p),a=g(p,"DIV",{class:!0}),b(a).forEach(_),p.forEach(_),this.h()},h(){v(t,"class","syllables svelte-1f3r8h5"),v(o,"class","input svelte-1f3r8h5"),v(l,"class","input-wrapper svelte-1f3r8h5"),v(a,"class","padding-right svelte-1f3r8h5"),v(e,"class","poem svelte-1f3r8h5")},m(c,p){w(c,e,p),d(e,t);for(let $=0;$<f.length;$+=1)f[$].m(t,null);d(e,s),d(e,l),d(l,o),n[8](o),Y(o,n[1]),d(e,r),d(e,a),i||(u=[k(o,"blur",n[5]),k(o,"focus",n[6]),k(o,"keyup",n[4]),k(o,"input",n[3]),k(o,"input",n[9]),k(e,"click",n[7])],i=!0)},p(c,[p]){if(p&4){h=c[2];let $;for($=0;$<h.length;$+=1){const C=me(c,h,$);f[$]?f[$].p(C,p):(f[$]=ge(C),f[$].c(),f[$].m(t,null))}for(;$<f.length;$+=1)f[$].d(1);f.length=h.length}p&2&&Y(o,c[1])},i:P,o:P,d(c){c&&_(e),te(f,c),n[8](null),i=!1,be(u)}}}function ve(n){n.style.height="1px",n.style.height=`${n.scrollHeight+10}px`,n.style.width="1px",n.style.width=`${n.scrollWidth}px`}function rt(n,e,t){let s,l,o;S(n,T,y=>t(11,s=y)),S(n,x,y=>t(12,l=y)),S(n,qe,y=>t(2,o=y));let r=null,a=!1,i=s.text;r&&ve(r);const u=T.subscribe(y=>t(1,i=y.text));ye(()=>{u()});function h(y){const ke=i.slice(0,y.selectionStart),Ee=i.slice(y.selectionEnd),se=/\b(\w*)$/.exec(ke),le=/^(\w*)\b/.exec(Ee),ne=`${se?se[1]:""}${le?le[1]:""}`;ne!==""&&M(x,l=ne,l)}const f=y=>{ve(y.currentTarget),M(T,s=j(H({},s),{text:y.currentTarget.value}),s)},c=y=>{h(y.currentTarget)};function p(){a=!1,M(T,s=j(H({},s),{text:i}),s)}const $=y=>{a=!0,h(y.currentTarget)};function C(){a||r.focus()}function F(y){Oe[y?"unshift":"push"](()=>{r=y,t(0,r)})}function we(){i=this.value,t(1,i)}return[r,i,o,f,c,p,$,C,F,we]}class at extends W{constructor(e){super();N(this,e,rt,ot,V,{})}}function it(n){let e,t,s,l,o;return{c(){e=m("button"),t=m("span"),s=R("+"),this.h()},l(r){e=g(r,"BUTTON",{type:!0,class:!0});var a=b(e);t=g(a,"SPAN",{class:!0});var i=b(t);s=q(i,"+"),i.forEach(_),a.forEach(_),this.h()},h(){v(t,"class","svelte-1gbca8x"),v(e,"type","button"),v(e,"class","svelte-1gbca8x")},m(r,a){w(r,e,a),d(e,t),d(t,s),l||(o=k(e,"click",n[0]),l=!0)},p:P,i:P,o:P,d(r){r&&_(e),l=!1,o()}}}function ct(n,e,t){let s;S(n,T,r=>t(1,s=r));const l=$e();function o(){l("save",s)}return[o]}class ut extends W{constructor(e){super();N(this,e,ct,it,V,{})}}function ft(n){let e,t;return e=new Fe({}),e.$on("load",n[1]),{c(){O(e.$$.fragment)},l(s){U(e.$$.fragment,s)},m(s,l){A(e,s,l),t=!0},p:P,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}function ht(n){let e,t,s,l,o;return t=new Be({props:{$$slots:{default:[ft]},$$scope:{ctx:n}}}),t.$on("select",n[3]),l=new ut({}),l.$on("save",n[2]),{c(){e=m("div"),O(t.$$.fragment),s=L(),O(l.$$.fragment),this.h()},l(r){e=g(r,"DIV",{slot:!0,class:!0});var a=b(e);U(t.$$.fragment,a),s=D(a),U(l.$$.fragment,a),a.forEach(_),this.h()},h(){v(e,"slot","right"),v(e,"class","svelte-1l5d35j")},m(r,a){w(r,e,a),A(t,e,null),d(e,s),A(l,e,null),o=!0},p(r,a){const i={};a&64&&(i.$$scope={dirty:a,ctx:r}),t.$set(i)},i(r){o||(E(t.$$.fragment,r),E(l.$$.fragment,r),o=!0)},o(r){I(t.$$.fragment,r),I(l.$$.fragment,r),o=!1},d(r){r&&_(e),B(t),B(l)}}}function _t(n){let e,t,s,l,o,r,a;return t=new Ge({props:{$$slots:{right:[ht]},$$scope:{ctx:n}}}),l=new at({}),r=new nt({props:{word:n[0]}}),{c(){e=m("section"),O(t.$$.fragment),s=L(),O(l.$$.fragment),o=L(),O(r.$$.fragment),this.h()},l(i){e=g(i,"SECTION",{class:!0});var u=b(e);U(t.$$.fragment,u),s=D(u),U(l.$$.fragment,u),o=D(u),U(r.$$.fragment,u),u.forEach(_),this.h()},h(){v(e,"class","svelte-1l5d35j")},m(i,u){w(i,e,u),A(t,e,null),d(e,s),A(l,e,null),d(e,o),A(r,e,null),a=!0},p(i,[u]){const h={};u&64&&(h.$$scope={dirty:u,ctx:i}),t.$set(h);const f={};u&1&&(f.word=i[0]),r.$set(f)},i(i){a||(E(t.$$.fragment,i),E(l.$$.fragment,i),E(r.$$.fragment,i),a=!0)},o(i){I(t.$$.fragment,i),I(l.$$.fragment,i),I(r.$$.fragment,i),a=!1},d(i){i&&_(e),B(t),B(l),B(r)}}}function pt(n,e,t){let s,l,o;S(n,ee,u=>t(4,s=u)),S(n,T,u=>t(5,l=u)),S(n,x,u=>t(0,o=u));function r(u){M(T,l=u.detail,l),console.log(l)}function a(u){const h=u.detail;M(ee,s=[...s,h],s)}function i(u){J.call(this,n,u)}return[o,r,a,i]}class dt extends W{constructor(e){super();N(this,e,pt,_t,V,{})}}function mt(n){let e,t,s;return t=new dt({}),{c(){e=m("main"),O(t.$$.fragment),this.h()},l(l){e=g(l,"MAIN",{class:!0});var o=b(e);U(t.$$.fragment,o),o.forEach(_),this.h()},h(){v(e,"class","svelte-78i28p")},m(l,o){w(l,e,o),A(t,e,null),s=!0},p:P,i(l){s||(E(t.$$.fragment,l),s=!0)},o(l){I(t.$$.fragment,l),s=!1},d(l){l&&_(e),B(t)}}}class $t extends W{constructor(e){super();N(this,e,null,mt,V,{})}}export{$t as default};

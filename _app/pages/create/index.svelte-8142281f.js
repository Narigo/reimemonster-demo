import{S as U,i as V,s as R,H as K,e as g,t as A,k as T,c as v,a as $,h as C,d as p,m as D,b as y,g as L,F as m,L as N,I as G,J as Q,K as Y,q as S,o as P,G as j,M as se,N as _e,O as X,P as de,Q as me,D as ee,w as F,x as q,y as H,B as z,R as J,v as pe,j as te,T as Z,U as he,V as le,W as ge}from"../../chunks/vendor-ff083dc5.js";function ve(o){let e,l,t,s,n,r,a,c;const f=o[2].default,i=K(f,o,o[1],null);return{c(){e=g("details"),l=g("summary"),t=A("\u2228"),s=T(),n=g("div"),i&&i.c(),this.h()},l(_){e=v(_,"DETAILS",{class:!0});var u=$(e);l=v(u,"SUMMARY",{class:!0});var d=$(l);t=C(d,"\u2228"),d.forEach(p),s=D(u),n=v(u,"DIV",{});var b=$(n);i&&i.l(b),b.forEach(p),u.forEach(p),this.h()},h(){y(l,"class","svelte-17f9h59"),y(e,"class","svelte-17f9h59")},m(_,u){L(_,e,u),m(e,l),m(l,t),m(e,s),m(e,n),i&&i.m(n,null),e.open=o[0],r=!0,a||(c=N(e,"toggle",o[3]),a=!0)},p(_,[u]){i&&i.p&&(!r||u&2)&&G(i,f,_,_[1],r?Y(f,_[1],u,null):Q(_[1]),null),u&1&&(e.open=_[0])},i(_){r||(S(i,_),r=!0)},o(_){P(i,_),r=!1},d(_){_&&p(e),i&&i.d(_),a=!1,c()}}}function $e(o,e,l){let{$$slots:t={},$$scope:s}=e,{open:n=!1}=e;function r(){n=this.open,l(0,n)}return o.$$set=a=>{"open"in a&&l(0,n=a.open),"$$scope"in a&&l(1,s=a.$$scope)},[n,s,t,r]}class ye extends U{constructor(e){super();V(this,e,$e,ve,R,{open:0})}}function be(o){let e,l,t,s,n,r,a,c;return{c(){e=g("ul"),l=g("li"),t=g("button"),s=A("Other poem title"),n=T(),r=g("li"),a=g("button"),c=A("Another poem title"),this.h()},l(f){e=v(f,"UL",{class:!0});var i=$(e);l=v(i,"LI",{});var _=$(l);t=v(_,"BUTTON",{type:!0});var u=$(t);s=C(u,"Other poem title"),u.forEach(p),_.forEach(p),n=D(i),r=v(i,"LI",{});var d=$(r);a=v(d,"BUTTON",{type:!0});var b=$(a);c=C(b,"Another poem title"),b.forEach(p),d.forEach(p),i.forEach(p),this.h()},h(){y(t,"type","button"),y(a,"type","button"),y(e,"class","svelte-15nwzy1")},m(f,i){L(f,e,i),m(e,l),m(l,t),m(t,s),m(e,n),m(e,r),m(r,a),m(a,c)},p:j,i:j,o:j,d(f){f&&p(e)}}}class we extends U{constructor(e){super();V(this,e,null,be,R,{})}}const Ee=o=>({}),ne=o=>({}),ke=o=>({}),oe=o=>({});function Ie(o){let e,l,t,s,n,r,a;const c=o[2].left,f=K(c,o,o[1],oe),i=o[2].right,_=K(i,o,o[1],ne);return{c(){e=g("div"),f&&f.c(),l=T(),t=g("input"),s=T(),_&&_.c(),this.h()},l(u){e=v(u,"DIV",{class:!0});var d=$(e);f&&f.l(d),l=D(d),t=v(d,"INPUT",{type:!0,name:!0,class:!0}),s=D(d),_&&_.l(d),d.forEach(p),this.h()},h(){y(t,"type","text"),y(t,"name","title"),y(t,"class","svelte-iop7bq"),y(e,"class","svelte-iop7bq")},m(u,d){L(u,e,d),f&&f.m(e,null),m(e,l),m(e,t),se(t,o[0]),m(e,s),_&&_.m(e,null),n=!0,r||(a=[N(t,"input",o[6]),N(t,"blur",o[3]),N(t,"change",o[4]),N(t,"focus",o[5])],r=!0)},p(u,[d]){f&&f.p&&(!n||d&2)&&G(f,c,u,u[1],n?Y(c,u[1],d,ke):Q(u[1]),oe),d&1&&t.value!==u[0]&&se(t,u[0]),_&&_.p&&(!n||d&2)&&G(_,i,u,u[1],n?Y(i,u[1],d,Ee):Q(u[1]),ne)},i(u){n||(S(f,u),S(_,u),n=!0)},o(u){P(f,u),P(_,u),n=!1},d(u){u&&p(e),f&&f.d(u),_&&_.d(u),r=!1,_e(a)}}}function Le(o,e,l){let{$$slots:t={},$$scope:s}=e,{value:n=""}=e;function r(i){X.call(this,o,i)}function a(i){X.call(this,o,i)}function c(i){X.call(this,o,i)}function f(){n=this.value,l(0,n)}return o.$$set=i=>{"value"in i&&l(0,n=i.value),"$$scope"in i&&l(1,s=i.$$scope)},[n,s,t,r,a,c,f]}class Te extends U{constructor(e){super();V(this,e,Le,Ie,R,{value:0})}}const re=ee(""),x=ee(""),De=de(x,o=>{const e=[];let l=0;return o.trim().split(/\n/).forEach(t=>{const s=me(t);e.push({syllables:s,okay:l===0||l===s}),l=s}),e}),ae=ee({});function Se(o){let e,l;const t=o[1].default,s=K(t,o,o[0],null);return{c(){e=g("h2"),s&&s.c(),this.h()},l(n){e=v(n,"H2",{class:!0});var r=$(e);s&&s.l(r),r.forEach(p),this.h()},h(){y(e,"class","svelte-1paot4z")},m(n,r){L(n,e,r),s&&s.m(e,null),l=!0},p(n,[r]){s&&s.p&&(!l||r&1)&&G(s,t,n,n[0],l?Y(t,n[0],r,null):Q(n[0]),null)},i(n){l||(S(s,n),l=!0)},o(n){P(s,n),l=!1},d(n){n&&p(e),s&&s.d(n)}}}function Pe(o,e,l){let{$$slots:t={},$$scope:s}=e;return o.$$set=n=>{"$$scope"in n&&l(0,s=n.$$scope)},[s,t]}class We extends U{constructor(e){super();V(this,e,Pe,Se,R,{})}}function Ne(){return new Worker("/_app/assets/worker.00d7c8b2.js",{type:"module"})}function ie(o,e,l){const t=o.slice();return t[7]=e[l],t}function Oe(o){let e;return{c(){e=A(o[0])},l(l){e=C(l,o[0])},m(l,t){L(l,e,t)},p(l,t){t&1&&te(e,l[0])},d(l){l&&p(e)}}}function Ae(o){let e,l=o[2],t=[];for(let s=0;s<l.length;s+=1)t[s]=ce(ie(o,l,s));return{c(){e=g("ul");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=v(s,"UL",{class:!0});var n=$(e);for(let r=0;r<t.length;r+=1)t[r].l(n);n.forEach(p),this.h()},h(){y(e,"class","svelte-muhlb9")},m(s,n){L(s,e,n);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(s,n){if(n&4){l=s[2];let r;for(r=0;r<l.length;r+=1){const a=ie(s,l,r);t[r]?t[r].p(a,n):(t[r]=ce(a),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(s){s&&p(e),he(t,s)}}}function Ce(o){let e,l;return{c(){e=g("span"),l=A("loading ...")},l(t){e=v(t,"SPAN",{});var s=$(e);l=C(s,"loading ..."),s.forEach(p)},m(t,s){L(t,e,s),m(e,l)},p:j,d(t){t&&p(e)}}}function ce(o){let e,l=o[7]+"",t;return{c(){e=g("li"),t=A(l)},l(s){e=v(s,"LI",{});var n=$(e);t=C(n,l),n.forEach(p)},m(s,n){L(s,e,n),m(e,t)},p(s,n){n&4&&l!==(l=s[7]+"")&&te(t,l)},d(s){s&&p(e)}}}function Ue(o){let e,l,t,s;e=new We({props:{$$slots:{default:[Oe]},$$scope:{ctx:o}}});function n(c,f){if(c[1])return Ce;if(c[2])return Ae}let r=n(o),a=r&&r(o);return{c(){F(e.$$.fragment),l=T(),t=g("div"),a&&a.c()},l(c){q(e.$$.fragment,c),l=D(c),t=v(c,"DIV",{});var f=$(t);a&&a.l(f),f.forEach(p)},m(c,f){H(e,c,f),L(c,l,f),L(c,t,f),a&&a.m(t,null),s=!0},p(c,[f]){const i={};f&1025&&(i.$$scope={dirty:f,ctx:c}),e.$set(i),r===(r=n(c))&&a?a.p(c,f):(a&&a.d(1),a=r&&r(c),a&&(a.c(),a.m(t,null)))},i(c){s||(S(e.$$.fragment,c),s=!0)},o(c){P(e.$$.fragment,c),s=!1},d(c){z(e,c),c&&p(l),c&&p(t),a&&a.d()}}}const Ve=750;function Re(o,e,l){let t;J(o,ae,i=>l(5,t=i));let{word:s=""}=e,n=!0,r=[],a=null,c,f=i=>{const _=i.toLowerCase();t[_]===void 0?(clearTimeout(c),c=setTimeout(()=>{l(1,n=!0),a==null||a.postMessage(_)},Ve)):l(2,r=t[_])};return pe(()=>{const i=_=>{const u=JSON.parse(_.data);Z(ae,t[u.word]=u.rhymes,t),l(2,r=t[s]),l(1,n=!1)};return a=new Ne,a.addEventListener("message",i),()=>{a.removeEventListener("message",i)}}),o.$$set=i=>{"word"in i&&l(0,s=i.word)},o.$$.update=()=>{o.$$.dirty&1&&f(s)},[s,n,r]}class Me extends U{constructor(e){super();V(this,e,Re,Ue,R,{word:0})}}function ue(o,e,l){const t=o.slice();return t[11]=e[l],t}function Be(o){let e,l;return e=new we({}),{c(){F(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){H(e,t,s),l=!0},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Fe(o){let e,l;return e=new ye({props:{slot:"right",$$slots:{default:[Be]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){H(e,t,s),l=!0},p(t,s){const n={};s&16384&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function fe(o){let e,l=o[11].syllables+"",t,s,n;return{c(){e=g("li"),t=A(l),s=T(),this.h()},l(r){e=v(r,"LI",{class:!0});var a=$(e);t=C(a,l),s=D(a),a.forEach(p),this.h()},h(){y(e,"class",n=le(o[11].okay?"okay":"different")+" svelte-7vto2p")},m(r,a){L(r,e,a),m(e,t),m(e,s)},p(r,a){a&4&&l!==(l=r[11].syllables+"")&&te(t,l),a&4&&n!==(n=le(r[11].okay?"okay":"different")+" svelte-7vto2p")&&y(e,"class",n)},d(r){r&&p(e)}}}function qe(o){let e,l,t,s,n,r,a,c,f,i,_,u,d,b,M;l=new Te({props:{$$slots:{right:[Fe]},$$scope:{ctx:o}}});let W=o[2],w=[];for(let h=0;h<W.length;h+=1)w[h]=fe(ue(o,W,h));return u=new Me({props:{word:o[1]}}),{c(){e=g("section"),F(l.$$.fragment),t=T(),s=g("div"),n=g("ol");for(let h=0;h<w.length;h+=1)w[h].c();r=T(),a=g("div"),c=g("div"),f=T(),i=g("div"),_=T(),F(u.$$.fragment),this.h()},l(h){e=v(h,"SECTION",{class:!0});var E=$(e);q(l.$$.fragment,E),t=D(E),s=v(E,"DIV",{class:!0});var k=$(s);n=v(k,"OL",{class:!0});var O=$(n);for(let B=0;B<w.length;B+=1)w[B].l(O);O.forEach(p),r=D(k),a=v(k,"DIV",{class:!0});var I=$(a);c=v(I,"DIV",{class:!0,contenteditable:!0}),$(c).forEach(p),I.forEach(p),f=D(k),i=v(k,"DIV",{class:!0}),$(i).forEach(p),k.forEach(p),_=D(E),q(u.$$.fragment,E),E.forEach(p),this.h()},h(){y(n,"class","syllables svelte-7vto2p"),y(c,"class","input svelte-7vto2p"),y(c,"contenteditable",""),y(a,"class","input-wrapper svelte-7vto2p"),y(i,"class","padding-right svelte-7vto2p"),y(s,"class","poem svelte-7vto2p"),y(e,"class","svelte-7vto2p")},m(h,E){L(h,e,E),H(l,e,null),m(e,t),m(e,s),m(s,n);for(let k=0;k<w.length;k+=1)w[k].m(n,null);m(s,r),m(s,a),m(a,c),o[7](c),m(s,f),m(s,i),m(e,_),H(u,e,null),d=!0,b||(M=[N(c,"blur",o[4]),N(c,"focus",o[5]),N(c,"keyup",o[3]),N(s,"click",o[6])],b=!0)},p(h,[E]){const k={};if(E&16384&&(k.$$scope={dirty:E,ctx:h}),l.$set(k),E&4){W=h[2];let I;for(I=0;I<W.length;I+=1){const B=ue(h,W,I);w[I]?w[I].p(B,E):(w[I]=fe(B),w[I].c(),w[I].m(n,null))}for(;I<w.length;I+=1)w[I].d(1);w.length=W.length}const O={};E&2&&(O.word=h[1]),u.$set(O)},i(h){d||(S(l.$$.fragment,h),S(u.$$.fragment,h),d=!0)},o(h){P(l.$$.fragment,h),P(u.$$.fragment,h),d=!1},d(h){h&&p(e),z(l),he(w,h),o[7](null),z(u),b=!1,_e(M)}}}function He(o,e,l){let t,s,n;J(o,x,b=>l(9,t=b)),J(o,re,b=>l(1,s=b)),J(o,De,b=>l(2,n=b));let r=null,a=!1;pe(()=>{console.log({inputField:r,type:typeof r})});function c(){const M=window.getSelection().getRangeAt(0),W=M.commonAncestorContainer;if(W.parentNode===r){const w=W.textContent,h=w.slice(0,M.startOffset),E=w.slice(M.startOffset),k=/\b(\w*)$/.exec(h),O=/^(\w*)\b/.exec(E);Z(re,s=`${k?k[1]:""}${O?O[1]:""}`,s)}}const f=b=>{Z(x,t=r.innerText,t),c()};function i(){a=!1}function _(){a=!0,c()}function u(){a||r.focus()}function d(b){ge[b?"unshift":"push"](()=>{r=b,l(0,r)})}return[r,s,n,f,i,_,u,d]}class ze extends U{constructor(e){super();V(this,e,He,qe,R,{})}}function je(o){let e,l,t;return l=new ze({}),{c(){e=g("main"),F(l.$$.fragment),this.h()},l(s){e=v(s,"MAIN",{class:!0});var n=$(e);q(l.$$.fragment,n),n.forEach(p),this.h()},h(){y(e,"class","svelte-78i28p")},m(s,n){L(s,e,n),H(l,e,null),t=!0},p:j,i(s){t||(S(l.$$.fragment,s),t=!0)},o(s){P(l.$$.fragment,s),t=!1},d(s){s&&p(e),z(l)}}}class Ke extends U{constructor(e){super();V(this,e,null,je,R,{})}}export{Ke as default};
